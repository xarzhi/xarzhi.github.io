# 指针与引用

## 1.指针基本用法

当声明一个变量时，通过`&变量名`，可以取到该变量的地址，地址是一个16进制的值

```c++
#include<iostream>
using namespace std;

int main() {
	int num = 100;
	cout << &num << endl;

	return 0;
}
```

![image-20240711214121475](https://gitee.com/xarzhi/picture/raw/master/img/image-20240711214121475.png)

通过`修饰符 *指针名 = &变量名`，把变量的地址赋值给一个指针，也可以说是定义一个指针指向该变量的地址

- 通过`*指针名`可以**直接访问并修改**该变量的值
- **指针的类型要与变量的类型一致**

```c++
#include<iostream>
using namespace std;

int main() {
	int num = 100;
	int* p = &num;

	cout << &num << endl;
	cout << *p << endl;

	*p = 200;		// 通过地址直接修改变量的值
	cout << num << endl;  // 200
	cout << *p << endl;   // 200

	return 0;
}
```

## 2.空指针与野指针



## 3.常量指针与指针常量

### 3.1 常量指针

常量指针就是一个指向常量的指针，它是一个指针，`const`写在`*`之前

- **指针指向的空间的值不允许被修改**
- **指针的指向可以修改**

```c++
#include<iostream>
using namespace std;

int main() {
	int num = 100;
	const int* p = &num;

	// *p = 200; 	// 通过指针指向的空间修改变量的值会报错
	int num2 = 200;
	p = &num2;		// 修改指针的指向

	return 0;
}
```

通过地址修改变量的值，vs给出报错提示

![image-20240711214911704](https://gitee.com/xarzhi/picture/raw/master/img/image-20240711214911704.png)



### 3.2 指针常量

指针常量用来修饰指针，它是一个常量，`const`写在`*`之后

- **指针的指向不可修改**
- **指针指向空间的内容可以修改**

```c++
#include<iostream>
using namespace std;

int main() {
	int num1 = 100;
	int num2 = 200;
	int* const p2 = &num1;
	// p2=&num2  //修改指针的指向会报错

	*p2 = 300;  
	cout << *p2 << endl;		// 300
	cout << num1 << endl;		// 300
	return 0;
}
```



## 4.函数中使用指针

如下，定义一个函数，修改外部变量的值

```c++
#include<iostream>
using namespace std;

void change(int num) {
	num = 200;
}

int main() {
	int num = 100;
	change(num);

	cout << num << endl; // 100

	return 0;
}
```

可以看到，num的值并没有改变，这是因为实参`num`和形参`num`根本不是一个`num`，两者的地址不同

```c++
#include<iostream>
using namespace std;

void change(int num) {
	num = 200;
	cout << "形参num地址" << &num << endl;

}

int main() {
	int num = 100;
	cout << "实参num地址" << &num << endl;

	change(num);
	return 0;
}
```



![image-20240711222043837](https://gitee.com/xarzhi/picture/raw/master/img/image-20240711222043837.png)



若想实现我们的目的，修改`num`的值，`change`需要接受一个指针类型的参数，并且调用时需要将`num`的地址传给`change`

```c++
#include<iostream>
using namespace std;

void change(int *num) {
	*num = 200;
}

int main() {
	int num = 100;

	change(&num);
	cout << num << endl; // 200
	return 0;
}
```

如此便修改成功



## 5.引用基本使用

 
