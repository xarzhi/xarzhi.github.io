# å…«ã€é˜²æ­¢æ ·å¼æ±¡æŸ“

## 1. CSS Modules	

**å› ä¸ºï¼š**reactä¸­å‰ç«¯è‡ªåŠ¨åŒ–æ‰“åŒ…å·¥å…·`webpack`é»˜è®¤é…ç½®äº†`CSS Modules` ï¼ˆæ³¨ï¼švueæ˜¯scoped

**æ‰€ä»¥ï¼š**å¯ä»¥ç›´æ¥ç”¨ï¼Œä½†è¦éµå¾ªè§„åˆ™

**è§„åˆ™ï¼š**  

1. æ ·å¼æ–‡ä»¶åï¼š  `åç§°.module.css`
2. ç»„ä»¶å†…å¯¼å…¥ï¼š `import styled from 'è·¯å¾„/åç§°.module.css'`
3. ä½¿ç”¨ï¼š `className={styled.ç±»å}`

**ç¼ºç‚¹**ï¼šæ²¡æœ‰ç”¨cssé¢„å¤„ç†



## 2. LESS Modules

### 2.1 å¼¹å‡ºé…ç½®æ–‡ä»¶ ejectï¼ˆåˆ«åŠ¨ï¼‰

**æ­¥éª¤1ï¼š**å®‰è£…  yarn  add  less@2.7.3  less-loader

**æ­¥éª¤2ï¼š**é…ç½®    

åœ¨config/webpack.config.jsæ–‡ä»¶ä¸­
æœ1ï¼šã€const sassModuleRegexã€‘
å¢1ï¼šå¢åŠ ä¸¤è¡Œä»£ç 

```tsx
const lessRegex = /\.less$/;
const lessModuleRegex = /\.module\.less$/;
```

æœ2ï¼šã€test: sassModuleRegexã€‘ åœ¨å®ƒçš„å¤§æ‹¬å·ã€åŒçº§åé¢ã€‘åŠ ä¸‹è¿°

````js
{
    test: lessRegex,
        exclude: lessModuleRegex,
            use: getStyleLoaders(
                {
                    importLoaders: 3,
                    sourceMap: isEnvProduction && shouldUseSourceMap,
                },
                'less-loader'
            ),
                sideEffects: true,
},
    {
        test: lessModuleRegex,
            use: getStyleLoaders(
                {
                    importLoaders: 3,
                    sourceMap: isEnvProduction && shouldUseSourceMap,
                    modules: {
                        getLocalIdent: getCSSModuleLocalIdent,
                    },
                },
                'less-loader'
            ),
    },
````

**æ­¥éª¤3ï¼š**éªŒè¯ 

> App.module.less  ï¼ˆæ³¨ï¼šç±»åæ¨èç»Ÿä¸€å°é©¼å³°
>
> ```css
> .t1 {font-size: 30px; color:green;}
> ```
>
> App.js
>
> ```tsx
> import styled2 from './App.module.less'
> 
> <div className={styled2.t1}>æµ‹è¯•</div>
> ```



### 3.2 ğŸ™…ğŸ»â€â™€ï¸ä¸å¼¹å‡ºé…ç½®æ–‡ä»¶ ï¼ˆç”¨è¿™ä¸ª)

`craco`æ˜¯ä¸€ä¸ªå¯¹ create-react-app è¿›è¡Œè‡ªå®šä¹‰é…ç½®çš„ç¤¾åŒºè§£å†³æ–¹æ¡ˆ

ç°åœ¨æˆ‘ä»¬å®‰è£… craco å¹¶ä¿®æ”¹ `package.json` é‡Œçš„ `scripts` å±æ€§ã€‚



## 3. craco

```
yarn add @craco/craco -D
```

```tsx
/* package.json */
"scripts": {
-   "start": "react-scripts start",
-   "build": "react-scripts build",
-   "test": "react-scripts test",
+   "start": "craco start",
+   "build": "craco build",
+   "test": "craco test",
}
```

ç„¶åå®‰è£… `craco-less` å¹¶ä¿®æ”¹ `craco.config.js` æ–‡ä»¶å¦‚ä¸‹ã€‚

```
yarn add craco-less -D
```

æœ€ååœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `craco.config.js` ç”¨äºä¿®æ”¹é»˜è®¤é…ç½®ã€‚

```tsx
const CracoLessPlugin = require('craco-less');
module.exports = {
  plugins: [
    {
      plugin: CracoLessPlugin
    },
  ],
};
```





## 4. Styled Components

### 4.1 è¯­æ³•

1.å®‰è£…ï¼š`yarn add styled-components`

- æ”¯æŒsassã€lessè¯­æ³•

2.å†™æ ·å¼

> styled.js

```tsx
import styled from 'styled-components'
// ä¸€èˆ¬ç”¨Containerå‘½å
export const Container = styled.æ ‡ç­¾å`
	div{
		width: 200px;
	}
`;
```

3.ç»„ä»¶å†…ä½¿ç”¨

ç”¨`<Container>`æ ‡ç­¾åŒ…è£¹

```jsx
import {Container} from './styled.js'

const Test=()=>{
    return (
    	<Container>
        	<div>ä½ å¥½</div>
        </Container>
    )
}
```

vscodeæ’ä»¶  `vscode-styled-components`

