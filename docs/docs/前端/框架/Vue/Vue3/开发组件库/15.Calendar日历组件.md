# Calendaræ—¥å†ç»„ä»¶

:::tip

ä½œè€…ï¼šoutsider_å‹äººA

é“¾æ¥ï¼š[ç¨€åœŸæ˜é‡‘](https://juejin.cn/post/7473143257456525363)

:::

æœ¬èŠ‚æˆ‘ä»¬å¼€å§‹å®ç°æˆ‘ä»¬çš„æ—¥å†ç»„ä»¶ã€‚

## æ—¥å†å®ç°

è·Ÿä¹‹å‰ä¸€æ ·æˆ‘ä»¬å…ˆåˆ›å»ºä¸‹é¢è¿™æ ·çš„æ–‡ä»¶ç»“æ„ï¼Œå¼€å§‹æˆ‘ä»¬çš„å¸ƒå±€å’Œæ ·å¼çš„å¼€å‘ã€‚

![project-20250218-1.png](https://gitee.com/xarzhi/picture/raw/master/img/6463d206193e44acb1b1414101cdfb5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp)

æˆ‘ä»¬å…ˆæƒ³ä¸€ä¸‹æ—¥å†ç»„ä»¶çš„è§„åˆ™ï¼Œé¦–å…ˆé»˜è®¤æ˜¾ç¤ºå½“å‰æœˆä»½çš„æ—¥å†ï¼Œç„¶åé€šè¿‡ç‚¹å‡»ä¸Šä¸ªæœˆã€ä¸‹ä¸ªæœˆæŒ‰é’®æ¥åˆ‡æ¢æœˆä»½ï¼ŒåŒæ—¶å¦‚æœå½“å‰çš„æ—¥å†ä¸­æœ‰ä¸Šä¸ªæœˆçš„æ—¥æœŸå’Œä¸‹ä¸ªæœˆçš„æ—¥æœŸï¼Œæˆ‘ç‚¹å‡»çš„æ—¶å€™ä¹Ÿèƒ½ç›´æ¥åˆ‡æ¢åˆ°å¯¹åº”çš„æœˆä»½ã€‚

é‚£å…·ä½“å®ç°æˆ‘ä»¬ä¹Ÿæ¥æ„æ€ä¸€ä¸‹ã€‚

![project-20250218-2.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf8e0c6558e44b848bf8deb07022800a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=OwVO2i3Nn265dYWEx5L%2F8mK7Hlg%3D)

æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€æœˆåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼Œçº¢è‰²çš„æ˜¯ä¸Šä¸ªæœˆçš„ï¼Œè“è‰²æ¡†èµ·æ¥çš„æ˜¯å½“æœˆçš„æ—¥æœŸï¼Œç»¿è‰²çš„æ˜¯ä¸‹ä¸ªæœˆçš„æ—¥æœŸã€‚ä¸Šæœˆçš„å’Œä¸‹ä¸ªæœˆçš„æ—¥æœŸæ˜¯ä¸ä¸€å®šå­˜åœ¨çš„ï¼Œå®Œå…¨çœ‹å½“å‰æœˆçš„èµ·å§‹å¤©å’Œç»“æŸå¤©åˆ†åˆ«æ˜¯å‘¨å‡ ï¼›ä¹Ÿå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œä¸Šæœˆçš„æ—¥æœŸå’Œä¸‹æœˆçš„æ—¥æœŸæ˜¯ä¸ºäº†è¡¥é½æ–¹æ ¼çš„ã€‚é‚£å…·ä½“æ€ä¹ˆå»å®ç°å‘¢ï¼Œåœ¨ä»£ç ä¸­æ€ä¹ˆè¡¥é½å‘¢ï¼Ÿ

é¦–å…ˆï¼Œæˆ‘ä»¬çš„å‘¨æ˜¯ä»å‘¨å¤©å¼€å§‹ï¼Œç„¶ååˆ°å‘¨å…­ï¼Œæˆ‘ä»¬å¯ä»¥è·å–å½“å‰æœˆçš„ç¬¬ä¸€å¤©å¯¹åº”çš„å‘¨å‡ ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸€è¡Œå½“åšä¸€ä¸ªæ•°ç»„ï¼Œæ¯”å¦‚ï¼Œå½“æœˆç¬¬ä¸€å¤©æ˜¯å‘¨ä¸‰ï¼Œé‚£å°±å¯¹åº”çš„ä¸‹æ ‡æ˜¯ 3ï¼Œæ„å‘³ç€ä»–çš„å‰é¢è¿˜æœ‰ä¸‰ä¸ªç©ºä½ç½®ç”¨æ¥æ”¾å…¥ä¸Šä¸ªæœˆçš„åä¸‰å¤©ã€‚å¯¹åº”çš„å¦‚æœè¿™ä¸ªæœˆæœ€åä¸€å¤©æ˜¯å‘¨ 5ï¼Œé‚£å°±å¯¹åº”çš„ä¸‹æ ‡æ˜¯ 5ï¼Œé‚£å°±è¿˜æœ‰ 2 ä¸ªç©ºä½ç½®ç”¨æ¥æ”¾å…¥ä¸‹ä¸ªæœˆçš„å‰ä¸¤å¤©ã€‚

æˆ‘ä»¬å…ˆæ¥ç”»ä¸€ä¸‹å¤§æ¦‚çš„å¸ƒå±€ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <template>
  <div class="t-calendar">
    <div class="t-calendar__header">
      <div class="t-calendar__button-group">
        <span class="t-calendar__button-prev">
          <i class="t-icon icon-arrow-left-bold"></i>
        </span>
        <span>
          {{ currentYear }}å¹´{{ currentMonth.toString().padStart(2, "0") }}æœˆ
        </span>
        <span class="t-calendar__button-next">
          <i class="t-icon icon-arrow-right-bold"></i>
        </span>
      </div>
      <t-button size="small">å›åˆ°ä»Šå¤©</t-button>
    </div>
    <div class="t-calendar__body">
      <table cellspacing="0" cellpadding="0" class="t-calendar-table">
        <thead>
          <tr>
            <th v-for="day in week" :key="day">{{ day }}</th>
          </tr>
        </thead>
        <tbody>
          <tr></tr>
        </tbody>
      </table>
    </div>
  </div>
</template>

<script setup>
  import { ref } from "vue";
  defineOptions({
    name: "t-calendar",
  });

  const week = ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"];
  const cellData = ref([]);
  const currentYear = ref(2025);
  const currentMonth = ref(2);
</script>
less ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç .t-calendar {
  width: 100%;
  border: 1px solid var(--t-border-color);
  .t-calendar__header {
    padding: 0 16px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    .t-calendar__button-group {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #363636;
    }
    .t-calendar__button-prev,
    .t-calendar__button-next {
      width: 30px;
      height: 30px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      &:hover {
        background-color: var(--t-hover-color);
      }
    }
  }
}

.t-calendar-table {
  width: 100%;
  table-layout: fixed;
  thead {
    width: 100%;
    color: #757575;
    th {
      height: 30px;
    }
  }
}
```

![project-20250218-3.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3b7b56c7da249baae782c440cfad373~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=ID93VA4tBQiweArdkkc%2FizrR6SA%3D)

ç°åœ¨æˆ‘ä»¬å¤§æ¦‚çš„æ ·å­å°±æ˜¯è¿™æ ·ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å®ç°ä¸€ä¸‹è¿™ä¸ªæ—¥å†çš„æ¸²æŸ“é€»è¾‘ã€‚

1. æˆ‘ä»¬æ‰€æœ‰çš„æ—¥æœŸæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åæ¯å‘¨ä¹Ÿå°±æ˜¯ä¸€è¡Œï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä»æ˜ŸæœŸå¤©å¼€å§‹åˆ°æ˜ŸæœŸå…­ã€‚
2. é¦–å…ˆæˆ‘ä»¬è·å–åˆ°å½“å‰æœˆä»½çš„å¤©æ•°ï¼Œç„¶åè·å–å½“å‰æœˆä»½çš„ç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ ï¼Œä¸¤ä¸ªåŠ èµ·æ¥ï¼Œç„¶åé™¤ä»¥ 7ï¼Œå‘ä¸‹å–æ•´ï¼Œå°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬å½“å‰æœˆä»½çš„å‘¨æ•°ï¼Œæœ‰å‡ å‘¨æˆ‘ä»¬å…ˆç»™æ•°ç»„ä¸­ push å‡ ä¸ªç©ºæ•°ç»„ã€‚
3. ç„¶åéå†è¿™æœˆçš„æ—¥æœŸï¼Œæˆ‘ä»¬çš„æ—¥æœŸ+ç¬¬ä¸€å¤©çš„æ˜ŸæœŸç„¶åé™¤ä»¥ 7ï¼Œå‘ä¸‹å–æ•´å°±çŸ¥é“æˆ‘ä»¬å½“å‰çš„æ—¥æœŸåœ¨ç¬¬å‡ å‘¨ï¼Œpush åˆ°å¯¹åº”å‘¨çš„æ•°ç»„é‡Œé¢ã€‚
4. ç„¶åçœ‹æˆ‘ä»¬ç¬¬ä¸€å¤©æ˜¯å¦æ˜¯å‘¨å¤©å¼€å§‹çš„ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£å°±éœ€è¦è¡¥é½ä¸Šä¸ªæœˆçš„å¤©æ•°ï¼Œç›´åˆ°ç¬¬ä¸€å‘¨è¡¥é½ã€‚
5. æœ€åçœ‹æˆ‘ä»¬è¿™ä¸ªæœˆçš„æœ€åä¸€å¤©æ˜¯å¦æ˜¯å‘¨å…­ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£å°±éœ€è¦è¡¥é½ä¸‹ä¸ªæœˆçš„å¤©æ•°ï¼Œç›´åˆ°æœ€åä¸€å‘¨è¡¥é½ã€‚

æ€è·¯æ˜ç™½äº†ï¼Œæˆ‘ä»¬æ¥å¼€å§‹å†™ï¼š

```js
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const createCellData = (
  year = currentYear.value,
  month = currentMonth.value
) => {
  const currentMonthdayNum = new Date(year, month - 1, 0).getDate();
  const firstDayNum = new Date(year, month - 1, 1).getDay(); // æœ¬æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const endDayNum = new Date(year, month - 1, currentMonthdayNum).getDay(); // æœ¬æœˆæœ€åä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const rowNum = Math.ceil((firstDayNum + currentMonthdayNum) / 7); // è¡Œæ•°
  cellData.value = [...Array(rowNum)].map(() => []);
  [...Array(currentMonthdayNum)].forEach((_, i) => {
    const rowIndex = Math.floor((i + firstDayNum) / 7);
    cellData.value[rowIndex].push(i + 1);
  });
};
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `new Date(year, month-1, 0).getDate()` è·å–åˆ°å½“å‰æœˆä»½çš„å¤©æ•°ï¼Œç„¶åé€šè¿‡ `new Date(year, month-1, 1).getDay()` è·å–åˆ°å½“å‰æœˆä»½çš„ç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ ï¼Œæœ€åä¸€å¤©åŒç†ã€‚

ç°åœ¨æˆ‘ä»¬å¯ä»¥è·å–åˆ°å½“å‰æœˆåœ¨æ¯ä¸€å‘¨çš„åˆ†å¸ƒï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦è¡¥é½ä¸Šä¸ªæœˆå’Œä¸‹ä¸ªæœˆçš„å¤©æ•°ã€‚

```js
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const createCellData = (
  year = currentYear.value,
  month = currentMonth.value
) => {
  const currentMonthdayNum = new Date(year, month - 1, 0).getDate();
  const firstDayNum = new Date(year, month - 1, 1).getDay(); // æœ¬æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const endDayNum = new Date(year, month - 1, currentMonthdayNum).getDay(); // æœ¬æœˆæœ€åä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const rowNum = Math.ceil((firstDayNum + currentMonthdayNum) / 7); // è¡Œæ•°
  cellData.value = [...Array(rowNum)].map(() => []);
  [...Array(currentMonthdayNum)].forEach((_, i) => {
    const rowIndex = Math.floor((i + firstDayNum) / 7);
    cellData.value[rowIndex].push(i + 1);
  });
  if (firstDayNum !== 0) {
    const lastYear = month - 1 < 1 ? year - 1 : year;
    const lastMonth = month - 1 < 1 ? 12 : month - 1;
    [...Array(firstDayNum)].forEach((_, i) => {
      const dayNum = new Date(lastYear, lastMonth - 1, 0 - i).getDate();
      cellData.value[0].unshift(dayNum);
    });
  }
  if (endDayNum !== 6) {
    [...Array(6 - endDayNum)].forEach((_, i) => {
      cellData.value[rowNum - 1].push(i + 1);
    });
  }
};
```

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `new Date(year, month-1, -1).getDate()` è·å–åˆ°ä¸Šä¸ªæœˆçš„å€’æ•°ç¬¬ 2 å¤©æ˜¯å‡ å·ï¼Œ `new Date(year, month-1, 0).getDate()` è·å–åˆ°ä¸Šä¸ªæœˆçš„å€’æ•°ç¬¬ 1 å¤©æ˜¯å‡ å·ï¼Œç„¶åé€šè¿‡ `unshift` æ–¹æ³•æ’å…¥åˆ°ç¬¬ä¸€è¡Œçš„æ•°ç»„ä¸­ï¼Œæœ€åä¸€å‘¨ä¹ŸåŒç†ã€‚

è¿™æ ·æˆ‘ä»¬æ¯ä¸ªæœˆçš„æ—¥æœŸçš„è·å–å°±ç®—æ˜¯å°è£…å®Œäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ ¹æ®æˆ‘ä»¬çš„è¿™ä¸ªæ•°ç»„æ¥æ¸²æŸ“æ—¥æœŸè¡¨æ ¼äº†ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <template>
  <div class="t-calendar">
    <div class="t-calendar__header">
      <div class="t-calendar__button-group">
        <span class="t-calendar__button-prev">
          <i class="t-icon icon-arrow-left-bold"></i>
        </span>
        <span>
          {{ currentYear }}å¹´{{ currentMonth.toString().padStart(2, "0") }}æœˆ
        </span>
        <span class="t-calendar__button-next">
          <i class="t-icon icon-arrow-right-bold"></i>
        </span>
      </div>
      <t-button size="small">å›åˆ°ä»Šå¤©</t-button>
    </div>
    <div class="t-calendar__body">
      <table cellspacing="0" cellpadding="0" class="t-calendar-table">
        <thead>
          <tr>
            <th v-for="day in week" :key="day">{{ day }}</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(week, index) in cellData" :key="'week' + index">
            <td v-for="day in week" :key="day">
              <div class="t-calendar-day">
                <div class="t-calendar-day-number">{{ day }}</div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
less ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç .t-calendar {
  width: 100%;
  border: 1px solid var(--t-border-color);
  .t-calendar__header {
    padding: 0 16px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    .t-calendar__button-group {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #363636;
    }
    .t-calendar__button-prev,
    .t-calendar__button-next {
      width: 30px;
      height: 30px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      &:hover {
        background-color: var(--t-hover-color);
      }
    }
  }
}

.t-calendar-table {
  width: 100%;
  table-layout: fixed;
  thead {
    width: 100%;
    color: #757575;
    th {
      height: 42px;
      font-weight: 500;
      color: #363636;
      border-bottom: 1px solid var(--t-border-color);
    }
  }
  tbody {
    td {
      border-right: 1px solid var(--t-border-color);
      border-bottom: 1px solid var(--t-border-color);
      &:nth-last-child(1) {
        border-right: none;
      }
    }
    tr:nth-last-child(1) td {
      border-bottom: none;
    }
    .t-calendar-day {
      padding: 10px;
      height: 80px;
      text-align: center;

      cursor: pointer;
      &:hover {
        background-color: var(--t-hover-color);
      }
    }
    .t-calendar-day-number {
      text-align: right;
    }
  }
}
```

![project-20250218-4.png](https://gitee.com/xarzhi/picture/raw/master/img/231ba6a55e584fe1ae64bba46641a313~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp)

è¿™ä¸‹åŸºæœ¬éƒ½å·®ä¸å¤šäº†ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ç»™ä¸Šä¸ªæœˆå’Œä¸‹ä¸ªæœˆæ·»åŠ æ ·å¼ï¼Œè®©å®ƒä»¬ä¸€çœ¼èƒ½å’Œå½“æœˆçš„æ—¥æœŸåŒºåˆ†å‡ºæ¥ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±æ²¡åŠæ³•åŒºåˆ†äº†ï¼Œå…¶å®æœ‰ä¸ªç¬¨åŠæ³•ï¼Œå°±æ˜¯ç¬¬ä¸€è¡Œå¦‚æœå¤§äº 7 çš„è‚¯å®šæ˜¯ä¸Šä¸ªæœˆçš„ï¼Œæœ€åä¸€è¡Œå°äº 6 çš„è‚¯å®šæ˜¯ä¸‹ä¸ªæœˆçš„ï¼Œä½†æ˜¯æˆ‘ä»¬åæœŸä¹Ÿéœ€è¦ç‚¹å‡»çš„æ—¶å€™ emit çš„æ—¶å€™æƒ³ç›´æ¥å‘Šè¯‰ä½¿ç”¨è€…ä½ å½“å¤©ç‚¹å‡»çš„æ˜¯ä¸Šæœˆçš„è¿˜æ˜¯è¯¥æœˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„æ•°ç»„è¿™å—ã€‚

æˆ‘ä»¬éœ€è¦æŠŠæ¯ä¸€å¤©ä¿®æ”¹æˆä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«å¹´ã€æœˆã€æ—¥ã€ç±»å‹ã€æ˜¯å¦æ˜¯å½“å‰æœˆã€‚

```js
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const createCellData = (
  year = currentYear.value,
  month = currentMonth.value
) => {
  const currentMonthdayNum = new Date(year, month - 1, 0).getDate();
  const firstDayNum = new Date(year, month - 1, 1).getDay(); // æœ¬æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const endDayNum = new Date(year, month - 1, currentMonthdayNum).getDay(); // æœ¬æœˆæœ€åä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
  const rowNum = Math.ceil((firstDayNum + currentMonthdayNum) / 7); // è¡Œæ•°
  cellData.value = [...Array(rowNum)].map(() => []);
  [...Array(currentMonthdayNum)].forEach((_, i) => {
    const rowIndex = Math.floor((i + firstDayNum) / 7);
    const dayInfo = {
      year,
      month,
      day: i + 1,
      type: "normal",
      date: new Date(year, month - 1, i + 1),
    };
    cellData.value[rowIndex].push(dayInfo);
  });
  if (firstDayNum !== 0) {
    const lastYear = month - 1 < 1 ? year - 1 : year;
    const lastMonth = month - 1 < 1 ? 12 : month - 1;
    [...Array(firstDayNum)].forEach((_, i) => {
      const dayNum = new Date(lastYear, lastMonth - 1, 0 - i).getDate();
      cellData.value[0].unshift({
        year: lastYear,
        month: lastMonth,
        day: dayNum,
        type: "prev",
        date: new Date(lastYear, lastMonth - 1, dayNum),
      });
    });
  }
  if (endDayNum !== 6) {
    const nextYear = month + 1 > 12 ? year + 1 : year;
    const nextMonth = month + 1 > 12 ? 1 : month + 1;
    [...Array(6 - endDayNum)].forEach((_, i) => {
      cellData.value[rowNum - 1].push({
        year: nextYear,
        month: nextMonth,
        day: i + 1,
        type: "next",
        date: new Date(nextYear, nextMonth - 1, i + 1),
      });
    });
  }
};
```

ç„¶åæ ¹æ®æˆ‘ä»¬çš„ type ç»™æ·»åŠ ä¸Šç±»å‹ç„¶åè®¾ç½®æ ·å¼ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <!-- ... -->
<tbody>
  <tr v-for="(week, index) in cellData" :key="'week' + index">
    <td v-for="dayInfo in week" :key="dayInfo.day">
      <div
        :class="`t-calendar-day ${
                  dayInfo.type === 'prev'
                    ? 't-calendar-day__prev'
                    : dayInfo.type === 'next'
                    ? 't-calendar-day__next'
                    : ''
                }`"
      >
        <div class="t-calendar-day-number">{{ dayInfo.day }}</div>
      </div>
    </td>
  </tr>
</tbody>
<!-- ... -->
less ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç .t-calendar-day__prev,
.t-calendar-day__next {
  color: var(--t-placeholder-color);
}
```

![project-20250218-5.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3fc5edd895324b3f82717b806b7d6a42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=o5%2BAIMtdZHb74dK2esG2KYmUvkw%3D)

ç°åœ¨æ—¥å†çš„æ ·å­ç®—æ˜¯å‡ºæ¥äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å®Œå–„ä¸€ä¸‹æ—¥å†çš„åŸºæœ¬äº¤äº’ã€‚

## æ—¥å†äº¤äº’

1. ç‚¹å‡»å·¦å°±æ˜¯ä¸Šä¸ªæœˆï¼Œç‚¹å‡»å³å°±æ˜¯ä¸‹ä¸ªæœˆ
2. é»˜è®¤é«˜äº®å½“å¤©ï¼Œç‚¹å‡»æŸä¸€å¤©é«˜äº®æŸä¸€å¤©ï¼Œä½†æ˜¯å½“å¤©ä¾æ—§æ–‡å­—é«˜äº®
3. ç‚¹å‡»å›åˆ°ä»Šå¤©ï¼Œåˆ™æ¢å¤åˆ°é»˜è®¤çŠ¶æ€
4. ç‚¹å‡»å½“å‰æœˆæ—¥å†ä¸Šçš„ä¸Šæœˆçš„æŸä¸€å¤©ï¼Œåˆ™åˆ‡æ¢åˆ°ä¸Šæœˆçš„æ—¥å†ï¼Œä¸”é«˜äº®è¯¥æ—¥æœŸï¼Œä¸‹æœˆåŒç†
5. åˆ‡æ¢æœˆä»½çš„æ—¶å€™å·¦ä¸Šè§’çš„å¹´æœˆä¹Ÿéšä¹‹å˜åŠ¨

å¥½äº†ï¼Œæˆ‘ä»¬å…ˆæ·»åŠ å·¦ä¸Šè§’ä¸Šæœˆå’Œä¸‹æœˆçš„åˆ‡æ¢ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <!-- ... -->
<div class="t-calendar__button-group">
  <span class="t-calendar__button-prev" @click="handleChangeMonth('prev')">
    <i class="t-icon icon-arrow-left-bold"></i>
  </span>
  <span>
    {{ currentYear }}å¹´{{ currentMonth.toString().padStart(2, "0") }}æœˆ
  </span>
  <span class="t-calendar__button-next" @click="handleChangeMonth('next')">
    <i class="t-icon icon-arrow-right-bold"></i>
  </span>
</div>
<!-- ... -->
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const handleChangeMonth = (type) => {
  if (type === "prev") {
    if (currentMonth.value - 1 < 1) {
      currentMonth.value = 12;
      currentYear.value -= 1;
    } else {
      currentMonth.value -= 1;
    }
  } else {
    if (currentMonth.value + 1 > 12) {
      currentMonth.value = 1;
      currentYear.value += 1;
    } else {
      currentMonth.value += 1;
    }
  }
  createCellData(currentYear.value, currentMonth.value);
};
```

æˆ‘ä»¬æ·»åŠ ä¸€ä¸‹ç‚¹å‡»é«˜äº®çš„åŠŸèƒ½ã€‚é¦–å…ˆå…ˆç»™å½“å¤©æ–‡å­—é«˜äº®ï¼Œç„¶åç‚¹å‡»æŸå¤©çš„æ—¶å€™æŸå¤©é«˜äº®ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <template>
  <div class="t-calendar">
    <!-- ... -->
    <div class="t-calendar__body">
      <table cellspacing="0" cellpadding="0" class="t-calendar-table">
        <thead>
          <tr>
            <th v-for="day in week" :key="day">{{ day }}</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(week, index) in cellData" :key="'week' + index">
            <td v-for="dayInfo in week" :key="dayInfo.day">
              <div
                :class="`t-calendar-day ${
                  dayInfo.type === 'prev'
                    ? 't-calendar-day__prev'
                    : dayInfo.type === 'next'
                    ? 't-calendar-day__next'
                    : ''
                } ${
                  dayInfo.dateFormated === activeDate
                    ? 't-calendar-day__active'
                    : ''
                } ${
                  dayInfo.dateFormated === today ? 't-calendar-day__today' : ''
                }
                `"
                @click="handleClickDate(dayInfo)"
              >
                <div class="t-calendar-day-number">{{ dayInfo.day }}</div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>

<script setup>
  // ...
  const today =
    new Date().getFullYear() +
    "-" +
    (new Date().getMonth() + 1).toString().padStart(2, "0") +
    "-" +
    new Date().getDate().toString().padStart(2, "0");
  const activeDate = ref(today);

  const handleClickDate = (dayInfo) => {
    activeDate.value = dayInfo.dateFormated;
  };
  // ...
</script>
less ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç .t-calendar-day.t-calendar-day__active {
  background-color: #d7dbf7;
  color: var(--t-primary);
}
.t-calendar-day.t-calendar-day__today {
  color: var(--t-primary);
}
```

![project-20250218-6.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21fa9db9afbb40d19a484630ab9e41b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=X9%2B%2Bv5mCPmIQxRWdy7DPVa04NLM%3D)

è¿™æ ·é«˜äº®ä¹Ÿå¥½äº†ï¼Œç„¶åæ˜¯ç‚¹å‡»ä¸Šæœˆçš„æ—¥æœŸæˆ–è€…ä¸‹æœˆçš„æ—¥æœŸï¼Œæˆ‘ä»¬åªè¦ä¿®æ”¹ä¸€ä¸‹ç‚¹å‡»æ—¥æœŸçš„äº‹ä»¶

```js
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const handleClickDate = (dayInfo) => {
  activeDate.value = dayInfo.dateFormated;
  if (dayInfo.type !== "normal") {
    currentYear.value = dayInfo.year;
    currentMonth.value = dayInfo.month;
    createCellData(currentYear.value, currentMonth.value);
  }
};
```

å›åˆ°ä»Šå¤©å¾ˆç®€å•ï¼Œç»™æŒ‰é’®è®¾ç½®ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ç„¶åæŠŠ `activeDate` è®¾ç½®ä¸º `today`ï¼Œç„¶åå°†æ—¥å†æ¸²æŸ“ä¸ºå½“å‰æœˆä»½å³å¯ã€‚

```js
js ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç const resetToday = () => {
  activeDate.value = today;
  currentYear.value = new Date().getFullYear();
  currentMonth.value = new Date().getMonth() + 1;
  createCellData();
};
```

è¿™ä¸‹æ—¥å†åŸºæœ¬åŠŸèƒ½å°±ç®—å®Œæˆäº†ã€‚

## è‡ªå®šä¹‰æ—¥æœŸå†…å®¹

ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½æœ‰éœ€æ±‚è¦ç»™æ—¥å†æŸä¸€å¤©æ·»åŠ ä¸€äº›å†…å®¹ï¼Œæ¯”å¦‚ï¼Œå¾…åŠï¼Œæ‰“å¡ä¹‹ç±»çš„ã€‚

æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€å¤©å†…å®¹è¿™å—è¿™å—è®¾ç½®ä¸ºæ’æ§½ï¼Œç„¶åç»™ç”¨æˆ·æš´éœ²å‡ºå»å¯¹åº”æ—¥æœŸçš„ä¸€äº›ä¿¡æ¯ï¼Œè¿™æ ·å°±å¯ä»¥æ§åˆ¶åœ¨æŸä¸€å¤©æ˜¾ç¤ºä»€ä¹ˆäº†ã€‚

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <div class="t-calendar">
  <!-- ... -->
  <div class="t-calendar__body">
    <table cellspacing="0" cellpadding="0" class="t-calendar-table">
      <thead>
        <tr>
          <th v-for="day in week" :key="day">{{ day }}</th>
        </tr>
      </thead>
      <tbody>
        <tr v-for="(week, index) in cellData" :key="'week' + index">
          <td v-for="dayInfo in week" :key="dayInfo.day">
            <div
              :class="`t-calendar-day ${
                  dayInfo.type === 'prev'
                    ? 't-calendar-day__prev'
                    : dayInfo.type === 'next'
                    ? 't-calendar-day__next'
                    : ''
                } ${
                  dayInfo.dateFormated === activeDate
                    ? 't-calendar-day__active'
                    : ''
                } ${
                  dayInfo.dateFormated === today ? 't-calendar-day__today' : ''
                }
                `"
              @click="handleClickDate(dayInfo)"
            >
              <div class="t-calendar-day-number">
                <slot name="date-cell" v-bind="dayInfo">
                  {{ dayInfo.day }}
                </slot>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <t-calendar>
  <template #date-cell="{ date, dateFormated }">
    <div>
      <span>{{ dateFormated }}</span>
    </div>
  </template>
</t-calendar>
```

![project-20250218-7.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/908dae31f0c94633b53d73695c78f868~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=EYPvMdOR2sZSPtiBsPoQWAaC%2Bnk%3D)

å†æ¯”å¦‚æˆ‘ä»¬åšä¸€ä¸ªç®€å•çš„å¾…åŠ

```html
html ä½“éªŒAIä»£ç åŠ©æ‰‹ ä»£ç è§£è¯»å¤åˆ¶ä»£ç <template>
  <t-calendar class="todo-demo">
    <template #date-cell="{ date, dateFormated }">
      <div class="todo-cell">
        <span>{{ dateFormated }}</span>
        <ul v-if="todoList[dateFormated]" class="todo_list">
          <li
            v-for="item in todoList[dateFormated]"
            :key="item.title"
            class="todo_item"
          >
            <span>{{ item.time }}</span>
            <span>{{ item.title }}</span>
          </li>
        </ul>
      </div>
    </template>
  </t-calendar>
</template>
<script setup>
  const todoList = {
    "2025-02-06": [
      { title: "å¾…åŠ1", time: "09:00" },
      { title: "å¾…åŠ2", time: "10:00" },
    ],
    "2025-02-10": [
      { title: "ç‚’è‚¡", time: "09:00" },
      { title: "å¹²é¥­", time: "10:00" },
      { title: "å¤œç”Ÿæ´»å¼€å§‹", time: "10:00" },
    ],
  };
</script>
<style scoped>
  .todo-cell {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  .todo_list {
    flex: 1;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    overflow: hidden;
  }
  .todo_item {
    margin: 6px 0;
    padding: 0 10px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 26px;
    border: 1px solid #ccc;
    border-radius: 4px;
    list-style: none;
    box-sizing: border-box;
    font-size: 14px;
  }
  .todo-demo :deep(.t-calendar-table) tbody .t-calendar-day {
    height: 120px;
  }
</style>
```

![project-20250218-8.png](https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/397609fe147d4755bc1d78f29cd52e92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgb3V0c2lkZXJf5Y-L5Lq6QQ==:q75.awebp?rk3s=f64ab15b&x-expires=1752906622&x-signature=Z10x%2FU%2BP8tPbwVbO%2BPbYrj%2F9fDs%3D)

ä¸¸ç¾ğŸ‰

æœ¬èŠ‚çš„æ—¥å†ç»„ä»¶å°±ç®—å¼€å‘å®Œäº†ï¼Œæˆ‘ä»¬çš„ç»„ä»¶æ•™ç¨‹ä¾æ—§ä¼šæŒç»­æ›´æ–°ï¼Œå¤§å®¶æŒç»­å…³æ³¨ã€‚



ä½œè€…ï¼šoutsider_å‹äººA
é“¾æ¥ï¼šhttps://juejin.cn/post/7473143257456525363
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

