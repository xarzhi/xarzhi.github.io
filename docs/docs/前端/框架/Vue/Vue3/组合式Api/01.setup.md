# setup

## 1.基本概念

setup是所有**Composition API（组合API）**“ **表演的舞台** ”。

**组件中所用到的：数据、方法等等，均要配置在setup中。**

使用方法如下：

```vue
<template></template>

<script>
    import {ref} from 'vue'
    export default{
        setup(){
			const num = ref(123)
            return {
                num
            }
        }
    }
</script>
```

setup函数的两种返回值：

- 若返回一个**对象，则对象中的属性、方法, 在模板中均可以直接使用。**（重点关注！）
- 若返回一个渲染函数：则可以自定义渲染内容。（了解）

:::tip 注意

使用此setup语法，任何定义的变量都应return出去，不然在别处使用不了

在Vue3的生命周期中没有created，但setup的执行时机在created之前，所以setup相当于created

:::





## 2.setup语法糖

`setup`语法糖是在`Vue3.2x`版本更新的，其语法相较于`setup()`函数要方便许多

```vue
<script setup>
    import {ref} from 'vue'

    const num = ref(123)
</script>
```

当我们使用setup语法糖之后：

- 直接在`<script setup></script>`内写js语句

- 定义的数据不需要再return出去

- 不需要export导出

  

## 3.事件

不管是在setup()函数还是在setup语法糖，定义方法只需要和原生js一样定义

:::code-group

```vue [setup语法糖]
<script setup>
const add = () => {
  console.log(1+1)
  console.log(1+1)
}

function print(){
  console.log("hello world")
}
</script>
```

```vue [setup()函数]
<script>
    export default {
        setup(){
            const add = () => {
                console.log(1+1)
                console.log(1+1)
            }

            function print(){
                console.log("hello world")
            }
            return {
                add,print
            }
        }
    }
</script>
```

:::
