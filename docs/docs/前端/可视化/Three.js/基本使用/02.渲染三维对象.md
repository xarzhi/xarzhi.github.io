# 渲染三维对象

## 1.初始化画布

初始化画布分为以下几个步骤

![image-20241011095905438](https://gitee.com/xarzhi/picture/raw/master/img/image-20241011095905438.png)

1. 创建一个场景Scene
2. 创建一个相机Camera
   1. 设置相机的位置
3. 创建一个渲染器WebGLRenderer
   1. 设置渲染尺寸
4. 将渲染元素也就是canvas元素添加到body元素内

```js
const scene = new THREE.Scene();   			// 创建一个场景

const camera = new THREE.PerspectiveCamera(  // 创建一个相机
    45,
    innerWidth / innerHeight,
    1,
    1000
);
camera.position.set(0, 0, 20); 				// 设置相机的位置

const renderer = new THREE.WebGLRenderer();	// 创建一个渲染器
renderer.setSize(innerWidth, innerHeight);	// 设置渲染尺寸
document.body.append(renderer.domElement);	// 将渲染元素也就是canvas元素添加到body元素内，
```



## 2.创建并添加几何体

创建并添加几何体分为以下几个步骤

1. 创建几何体对象
2. 创建几何体材质
3. 创建几何体物体，把几何体和材质关联起来
4. 把几何体物体添加到场景中

```js
const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);		// 添加一个立方体几何对象
const cubeMaterial = new THREE.MeshBasicMaterial({			// 创建材质
    color: 0xff0000,
    wireframe: true,
});
const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);	// 创建物体
scene.add(cube);// 把物体添加到场景中
```

以上代码添加了一个正方体到场景中，Three.js提供了各种各样的几何体API，可详细查看[几何体](../几何体/01.BoxGeometry)

![image-20241011100005541](https://gitee.com/xarzhi/picture/raw/master/img/image-20241011100005541.png)

## 3.创建动画

根据不同需求，我们可以给几何体添加动画，使用`requestAnimationFrame()`函数

```js
const animation = () => {// 创建动画
    requestAnimationFrame(animation);
    cube.rotation.x -= 0.01;
    cube.rotation.y -= 0.01;
    renderer.render(scene, camera);
};
animation();
```





## 4.总结

```js
const scene = new THREE.Scene();   			// 创建一个场景

const camera = new THREE.PerspectiveCamera(  // 创建一个相机
    45,
    innerWidth / innerHeight,
    1,
    1000
);
camera.position.set(0, 0, 20); 				// 设置相机的位置

const renderer = new THREE.WebGLRenderer();	// 创建一个渲染器
renderer.setSize(innerWidth, innerHeight);	// 设置渲染尺寸
document.body.append(renderer.domElement);	// 将渲染元素也就是canvas元素添加到body元素内，


const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);		// 添加一个立方体几何对象
const cubeMaterial = new THREE.MeshBasicMaterial({			// 创建材质
    color: 0xff0000,
    wireframe: true,
});
const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);	// 创建物体
scene.add(cube);// 把物体添加到场景中


const animation = () => {// 创建动画
    requestAnimationFrame(animation);
    cube.rotation.x -= 0.01;
    cube.rotation.y -= 0.01;
    renderer.render(scene, camera);
};
animation();
```

效果如下

![PixPin_2024-10-11_09-52-25](https://gitee.com/xarzhi/picture/raw/master/img/PixPin_2024-10-11_09-52-25.gif)
