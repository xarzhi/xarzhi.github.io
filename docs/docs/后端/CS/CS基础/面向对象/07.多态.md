# 多态

## 1.多态的前提

**有多态之前必须要有继承**，只有多个类同时继承了同一个类，才有多态这样的说法。

**在继承关系的前提下，实例化出不同的对象，这些对象调用相同的方法，但是却表现出不同的行为，这就叫做多态**。

多态就是对象转型，对象转型分为向上转型和向下转型



## 2.向上转型

向上转型的特点：

- 由**子类类型转型为父类类型**
- 是一个**隐式转换**
- 转型**一定会成功**
- 向上转型后的对象将不再能够使用子类中特有的字段属性和方法，只能使用父类中共有的部分

```cs
class Animal{
    public void bark(){
        Console.WriteLine("叫");
    }
}

class Dog:Animal{
    public void bark (){
        Console.WriteLine("狗叫");
    }
}

class Program
{
    static void Main(string[] args)
    {
        Animal dog = new Dog();
        dog.bark();			// 叫
        Console.ReadKey();
    }
}
```

:::tip

若向上转型中，子类重写了父类的虚函数，则向上转型后的对象使用的是子类中重写的函数

虚函数和重写会在后面说到

:::



## 3.向下转型

- 向下转型：
  - 由**父类类型转型为子类类型**
  - 是**显示转换**，需要强制类型转换，一般使用`as`关键字
  - 转型不一定会成功，若失败会得到`null`
  - 向下转型后的对象，若转型成功，则可以使用子类中特有的字段属性和方法



