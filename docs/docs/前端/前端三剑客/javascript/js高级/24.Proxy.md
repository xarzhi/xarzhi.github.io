# Proxy

**Proxy** 对象用于**创建一个对象的代理**，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）。

`Proxy`是一个类，需要使用`new`关键字实例化

同事，`Vue3`响应式的部分原理也是和`Proxy`相关



## 1.构造函数

```js
new Proxy(target, handler)
```

参数：

- target：需要被代理的对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。
- handler：一个**对象**，其属性是定义了在对代理执行操作时的行为的函数。可配置属性详情如下



### 1.1 具体用法

```js
const obj = {};

const proxy = new Proxy(obj, {
  get(target, key) {},
  set(target, key, value) {},
  // ...
});

obj.name = "xiazhen";
```

以上代码，`obj`称做**目标对象**，`proxy`称为**代理对象**



### 1.2 handler

`handler`是一个对象，在创建`Proxy`代理对象时，可以添加相应的配置项，对代理对象的属性进行约束

`handler`对象中属性都是函数，分类如下



#### set()

`set()`方法用于拦截设置属性值的操作，当代理对象中的属性被修改时会触发`set()`函数

```js
new Proxy(target, {
    set(target, property, value, receiver) {}
});
```

参数：

- target：目标对象。
- property：将被设置的属性名或 `Symbol`。
- value：新属性值。
- receiver：最初接收赋值的对象。通常是 proxy 本身，但 handler 的 set 方法也有可能在原型链上，或以其他方式被间接地调用（因此不一定是 proxy 本身）。



返回值：方法应当返回一个布尔值。

- 返回 `true` 代表属性设置成功。
- 在严格模式下，如果 `set()` 方法返回 `false`，那么会抛出一个 [`TypeError`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError) 异常。





#### get()



