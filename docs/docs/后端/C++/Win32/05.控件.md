# 空间

## 1.标准控件

创建控件仍然需要使用CreateWindow()函数

```c++
HWND CreateWindow(
  [in, optional] LPCSTR    lpClassName,
  [in, optional] LPCSTR    lpWindowName,
  [in]           DWORD     dwStyle,
  [in]           int       x,
  [in]           int       y,
  [in]           int       nWidth,
  [in]           int       nHeight,
  [in, optional] HWND      hWndParent,
  [in, optional] HMENU     hMenu,
  [in, optional] HINSTANCE hInstance,
  [in, optional] LPVOID    lpParam
);
```

**参数**：

- **lpClassName**：空间的种类，不区分大小写，`BUTTON`同`button`
- **lpWindowName**：控件中的文字
- **dwStyle**：正在创建的窗口的**样式**， 此参数可以是 [窗口样式值](https://learn.microsoft.com/zh-cn/windows/desktop/winmsg/window-styles)以及“备注”部分中指示的控件样式的组合。
- **X**：控件的初始水平位置
- **Y**：控件的初始垂直位置
- **nWidth**：控件的宽度（以设备单位为单位）
- **nHeight**：控件的高度（以设备单位为单位）
- **hWndParent**：正在创建的控件的父窗口或所有者窗口的句柄，若无则为`NULL`
- **hMenu**：空间的ID
- **hInstance**：要与窗口关联的模块实例的句柄。
- **lpParam**：指向要通过 [CREATESTRUCT](https://learn.microsoft.com/zh-cn/windows/desktop/api/winuser/ns-winuser-createstructa) 结构传递到窗口的值的指针，

### 1.1 按钮

按钮控件允许用户通过单击来执行操作，既可以显示文本，又可以显示图像，当该按钮被单击时，它看起来像是被按下，然后被释放。按钮既是Windows标准控件，也是子窗口，窗口类名是`button`。

![image-20240828171739997](https://gitee.com/xarzhi/picture/raw/master/img/image-20240828171739997.png)

按钮的创建需要在`WM_CREATE`消息的响应中创建

```c++
LRESULT CALLBACK WindowProc(HWND hWnd, UINT uMsg, WPARAM wParam, LPARAM lParam)
{
	switch (uMsg)
	{
	case WM_CREATE:
		HWND btn = CreateWindow(
			"button",
			"你好",
			WS_CHILD|WS_VISIBLE|BS_PUSHBUTTON,
			15,
			5,
			100,
			40, 
			hWnd,
			(HMENU)111,
			((LPCREATESTRUCT)lParam)->hInstance,
			NULL
		);
		break;
	
	return 0;
	}
	return DefWindowProc(hWnd, uMsg, wParam, lParam);
}
```



#### 1.1.1 按钮样式

dwStyle：指定按钮控件的风格，可以设置为以下按钮风格的任意组合。

- **BS_AUTOCHECKBOX**：同BS_CHECKBOX，不过单击鼠标时按钮会自动反选
- BS_AUTORADIOBUTTON：同BS_RADIOBUTTON，不过单击鼠标时按钮会自动反转
- BS_AUTO3STATE：同BS_3STATE，不过单击按钮时会改变状态
- **BS_CHECKBOX**：指定在矩形按钮右侧带有标题的选择框，不会自动反选择
- BS_DEFPUSHBUTTON：指定默认的命令按钮，这种按钮的周围有一个黑框，用户可以按回车键来快速选
  择该按钮
- BS_GROUPBOX:指定一个组框
- BS_LEFTTEXT：使控件的标题显示在按钮的左边
- BS_OWNERDRAW：指定一个自绘式按钮
- **BS_PUSHBUTTON**：指定一个命令按钮
- **BS_RADIOBUTTON**：指定一个单选按钮，在圆按钮的右边显示正文
- BS_3STATE：同BS_CHECKBOX，不过控件有3种状态一选择、未选择和变灰

以下为按钮的通用属性

- WS_BORDER：创建具有边框的窗口。
- WS_CAPTION：创建该窗口具有标题栏(意味着WS_BORDER样式)。
- WS_CHILD：创建一个子窗口。不能与使用WS_POPUP样式。
- WS_DISABLED：创建最初处于禁用状态的窗口。
- WS_VISIBLE：创建初始可见的窗口。
- WS_GROUP：指定一组控件在其中用户可以从一个控件移到下的箭头键的第一个控件。
- WS_HSCROLL：创建该窗口具有水平滚动条。
- WS_VSCROLL：创建该窗口具有一个垂直滚动条。
- WS_ICONIC：创建开始最小化窗口。与相同WS_MINIMIZE样式。
- WS_MAXIMIZEBOX：创建一个窗口，都有一个最大化按钮。
- WS_MINIMIZEBOX：创建具有最小化按钮的窗口。
- WS_OVERLAPPED：创建重叠的窗口。重叠的窗口通常具有标题和边框。
- WSPOPUP：创建一个弹出窗口。不能与使用WSCHILD样式。
- WS_POPUPWINDOW：创建与一个弹出窗口WS_BORDER，WS_POPUP，和WS_SYSMENU样式。
- WS_SIZEBOX：创建具有大小调整边框的窗口。与相同WS_THICKFRAME样式。
- WS_SYSMENU：创建该窗口具有标题栏中的控件菜单框。使用仅为带有标题栏的窗口。
- WS_TABSTOP：控件通过其用户可以通过使用TAB键移动的任意数量之一指定。TAB键将用户移至指定的下一个控件WS_TABSTOP样式。
- WS_TILEDWINDOW：与相同WS_OVERLAPPEDWINDOW样式。



:::tip

一般会为按钮设置WS_CHILD、WS_VISIBLE和WS_TABSTOP等风格，WS_TABSTOP风格使按钮控件具有tab停止属性，即按tab键切换焦点控件时能够将焦点停在按钮控件上。创建
一组单选按钮时，第一个按钮的风格应设置为`WS_CHILD|WS_VISIBLE|WS_TABSTOP
|WS_GROUP|BS_AUTORADIOBUTTON`，其他单选按钮的风格应为`WS_CHILD|WS_VISIBLE
|BS_AUTORADIOBUTTON`，不包含`WS_TABSTOP`和`WS_GROUP`。

:::

## 2.公共控件